<template>
    <lightning-card title="ToDo details">
        <div class="slds-card__body_inner slds-p-horizontal_large">
            <template if:true={todo}>
                <lightning-card class="todo-card" title={todo.Name}>
                    <div slot="actions">
                        <lightning-button-icon icon-name="utility:edit" icon-class="slds-m-left_xx-small" variant="border-filled"
                            alternative-text="Edit record" onclick={handleEditClick}>
                        </lightning-button-icon>
                        <lightning-button-icon icon-name="utility:delete" icon-class="slds-m-left_xx-small" variant="border-filled"
                            alternative-text="Delete record" onclick={handleDeleteClick}>
                        </lightning-button-icon>
                    </div>
                    <c-modal-item>
                        <span slot="modalName">Update ToDo</span>
                        <c-create-todo todo-id={todo.Id} btn-label="Update ToDo" oncreatedtodo={handleModalOkClick}
                            oncancelclick={handleModalCancelClick} slot="modalContent"></c-create-todo>
                    </c-modal-item>
                    <div class="todo-card-body slds-m-vertical_none">
                        <div class="slds-card__body_inner">
                            <div class="todo-card-body slds-p-horizontal_x-large">
                                <div class="slds-tile">
                                    <h3 class="slds-tile__title slds-border_bottom slds-text-heading_small slds-m-bottom_xx-small"
                                        title="Description">
                                        {todo.Description__c}
                                    </h3>
                                    <div class="slds-tile__detail slds-m-top_xx-small slds-m-bottom_none">
                                        <dl class="slds-list_horizontal slds-m-bottom_none slds-text-body_small">
                                            <dt class="slds-item_label slds-text-color_weak" title="Priority">Priority:</dt>
                                            <dd class="slds-item_detail" title={todo.Priority__c}>{todo.Priority__c}
                                            </dd>
                                            <dt class="slds-item_label slds-text-color_weak" title="Category">Category:</dt>
                                            <dd class="slds-item_detail" title={todo.Category__c}>
                                                {todo.Category__c}
                                            </dd>
                                            <dt class="slds-item_label slds-text-color_weak" title="Status">Status:</dt>
                                            <dd class="slds-item_detail" title={todo.Is_Done__c}>
                                                <lightning-input type="checkbox" label="Is Done" name="input3" checked={todo.Is_Done__c}
                                                    disabled>
                                                </lightning-input>
                                            </dd>
                                            <dt class="slds-item_label slds-text-color_weak" title="Created Date">Created Date:
                                            </dt>
                                            <dd class="slds-item_detail" title={todo.CreatedDate}>
                                                <lightning-formatted-date-time value={todo.CreatedDate}></lightning-formatted-date-time>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </lightning-card>
            </template>
            <!-- No todo selected -->
            <template if:false={hasResults}>
                <div class="slds-align_absolute-center slds-var-m-vertical_small">
                    ToDo not selected...
                </div>
            </template>
        </div>
    </lightning-card>
</template>